<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "com.example.gss.file.dao.FileDao">

    <select id = "selectOrgInfos" parameterType="java.lang.String"
            resultType="com.example.gss.file.dto.res.FileOrganization">
        SELECT
            ORG_ID
            , ORG_NAME
        FROM
            TB_ORGANIZATION
        WHERE
            ORG_NAME LIKE CONCAT('%', #{orgTmpNm} , '%')
    </select>

    <insert id="insertFile" parameterType="com.example.gss.file.dto.FileEnroll">
        INSERT INTO TB_FILE(
             FILE_ID
            , FILE_NAME
            , FILE_PATH
            , FILE_USE_YN)
        VALUES(
             #{fileId}
            , #{fileName}
            , #{filePath}
            , 'Y'
            )
    </insert>

    <select id = "selectFiles" resultType="com.example.gss.file.dto.res.FileRes">
            SELECT
                FILE_ID
                , FILE_NAME
            FROM
                TB_FILE
    </select>

    <select id="selectFilesCount" resultType="java.lang.Integer">
            SELECT
                COUNT(1)
            WHERE
                TB_FILE
    </select>

</mapper>